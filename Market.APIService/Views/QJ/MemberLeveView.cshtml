
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- Color theme for statusbar -->
    <meta name="theme-color" content="#2196f3">



    <link href="https://iretailerapp.flnet.com/Content/framework7.css" rel="stylesheet">

    <title>请假</title>

    <script type="text/javascript" src="https://iretailerapp.flnet.com/Scripts/framework7.min.js"></script>
    <script src="https://cdn.bootcss.com/echarts/4.0.4/echarts.min.js"></script>
    <style>
        .tabNoSelect {
             width:33%; height: 41px;float:left; text-align:center;font-size:15px;line-height:43px;color:#acacac;background-color:#ffffff;
        }

        .tabSelect {
           width:33%; height: 41px;float:left; text-align:center;font-size:15px;line-height:43px;color:#24acca;border-bottom:solid;border-color:#24acca;border-width:2px;background-color:#ffffff;
        }
    </style>
</head>
<body>

    @{
        string userId = (string)ViewData["userId"];
        
        
        //List<Market.APIService.Controllers.CusModel> Vdata = (List < Market.APIService.Controllers.CusModel>) ViewData["vModel"];
    }
    <div id="app" style="background-color:rgb(247,247,247);">
        <div class="view view-main">

            <div id="Dview" style="padding-top:0px;padding-left:0px;padding-right:0px;" class="page-content">
                <div style="width:100%;height:15px;display:flex;">
                </div>
                <div style="width:100%;height:71px;display:flex;">
                    <div style="width:9px;height:100%;float:left"></div>

                    <div style="flex:0.33; height:100%;float:left;background-color:#ffffff;box-shadow:0 2px 10px rgba(0,0,0,0.2); ">
                        <div style="width:100%;height:10px;" ></div>
                        <div id="backCount" style="width:100%;height:34px;line-height:34px;font-size:34px;text-align:center;">20</div>
                        <div style="width:100%;height:2px;"></div>
                        <div style="width:100%;height:10px;line-height:10px;font-size:10px;text-align:center;">未签核</div>
                    </div>

                    <div style="width:9px;height:100%;float:left"></div>
                    <div style="flex:0.33; height:100%;float:left;background-color:#ffffff;box-shadow:0 2px 10px rgba(0,0,0,0.2); ">
                        <div style="width:100%;height:10px;"></div>
                        <div id="inCount" style="width:100%;height:34px;line-height:34px;font-size:34px;text-align:center;">20</div>
                        <div style="width:100%;height:2px;"></div>
                        <div style="width:100%;height:10px;line-height:10px;font-size:10px;text-align:center;">签核中</div>
                    </div>
                    <div style="width:9px;height:100%;float:left"></div>
                    <div style="flex:0.33; height:100%;float:left;background-color:#ffffff;box-shadow:0 2px 10px rgba(0,0,0,0.2); ">
                        <div style="width:100%;height:10px;"></div>
                        <div id="leveCount"  style="width:100%;height:34px;line-height:34px;font-size:34px;text-align:center;">20</div>
                        <div style="width:100%;height:2px;"></div>
                        <div style="width:100%;height:10px;line-height:10px;font-size:10px;text-align:center;">已完成</div>
                    </div>
                    <div style="width:9px;height:100%;float:left"></div>
                </div>
                <div style="width:100%;height:19px;display:flex;">
                </div>
                <div style="width:100%;height:43px;display:flex;">
                    <div id="btn_typ1" onclick="ClickType(1);" class="tabNoSelect">未送签</div>
                    <div id="btn_typ2" onclick="ClickType(2);" class="tabSelect">签核中</div>
                    <div id="btn_typ3" onclick="ClickType(3);" class="tabNoSelect">已完成</div>
                </div>
                <div id="type_view_1" style="width:100%;">
                    <div style="width:100%;height:50px;display:flex;border-bottom:solid;border-color:#dddddd;border-width:1px;">
                        <div style="flex:0.3;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;">病假</div>
                        
                        <div style="flex:0.3; height:50px;float:left;color:#000000;font-size:13px;">
                            <div style="width:100%;height:10px;display:flex;">
                            </div>
                            <div style="width:100%;height:13px;display:flex;">
                                2018-05-01 00:00~
                            </div>
                            <div style="width:100%;height:13px;display:flex;">
                                2018-05-02 23:59
                            </div>
                        </div>
                        <div style="flex:0.4;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;"></div>
                        <div style="width:25px;height:50px;float:left;color:#000000;font-size:14px;">
                            <div style="width:100%;height:18px;display:flex;">
                            </div>
                            <div style="width:15px; height:15px;">
                                <img src="~/Content/Img/img_next.png" style="width:15px; height:15px; " />
                            </div>
                        </div>
                    </div>
                </div>
                <div id="type_view_2" style="width:100%;">
                    <div style="width:100%;height:50px;display:flex;border-bottom:solid;border-color:#dddddd;border-width:1px;">
                        <div style="flex:0.3;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;">病假</div>

                        <div style="flex:0.4; height:50px;float:left;color:#000000;font-size:13px;">
                            <div style="width:100%;height:10px;display:flex;">
                            </div>
                            <div style="width:100%;height:13px;display:flex;">
                                2018-05-01 00:00~
                            </div>
                            <div style="width:100%;height:13px;display:flex;">
                                2018-05-02 23:59
                            </div>
                        </div>
                        <div style="flex:0.1;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;"></div>
                        <div style="flex:0.2;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;">
                            签核中
                        </div>
                        <div style="width:25px;height:50px;float:left;color:#000000;font-size:14px;">
                            <div style="width:100%;height:18px;display:flex;">
                            </div>
                            <div style="width:15px; height:15px;">
                                <img src="~/Content/Img/img_next.png" style="width:15px; height:15px; " />
                            </div>
                        </div>
                    </div>
                </div>
                <div id="type_view_3" style="width:100%;">
                    <div style="width:100%;height:50px;display:flex;border-bottom:solid;border-color:#dddddd;border-width:1px;">
                        <div style="flex:0.3;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;">病假</div>

                        <div style="flex:0.4; height:50px;float:left;color:#000000;font-size:13px;">
                            <div style="width:100%;height:10px;display:flex;">
                            </div>
                            <div style="width:100%;height:13px;display:flex;">
                                2018-05-01 00:00~
                            </div>
                            <div style="width:100%;height:13px;display:flex;">
                                2018-05-02 23:59
                            </div>
                        </div>
                        <div style="flex:0.1;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;"></div>
                        <div style="flex:0.2;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;color:#dc4e00;">
                            已退回
                        </div>
                        <div style="width:25px;height:50px;float:left;color:#000000;font-size:14px;">
                            <div style="width:100%;height:18px;display:flex;">
                            </div>
                            <div style="width:15px; height:15px;">
                                <img src="~/Content/Img/img_next.png" style="width:15px; height:15px; " />
                            </div>
                        </div>
                    </div>
                    <div style="width:100%;height:50px;display:flex;border-bottom:solid;border-color:#dddddd;border-width:1px;">
                        <div style="flex:0.3;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;">病假</div>

                        <div style="flex:0.4; height:50px;float:left;color:#000000;font-size:13px;">
                            <div style="width:100%;height:10px;display:flex;">
                            </div>
                            <div style="width:100%;height:13px;display:flex;">
                                2018-05-01 00:00~
                            </div>
                            <div style="width:100%;height:13px;display:flex;">
                                2018-05-02 23:59
                            </div>
                        </div>
                        <div style="flex:0.1;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;"></div>
                        <div style="flex:0.2;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;color:#24acca;">
                            已通过
                        </div>
                        <div style="width:25px;height:50px;float:left;color:#000000;font-size:14px;">
                            <div style="width:100%;height:18px;display:flex;">
                            </div>
                            <div style="width:15px; height:15px;">
                                <img src="~/Content/Img/img_next.png" style="width:15px; height:15px; " />
                                
                            </div>
                        </div>
                        
                    </div>
                    <img src="~/Content/Img/btn_camera.png" onclick="SeleectImage();">
                    <input id="fileBtn" type="file"  style="display:none; background-image:url('~/Content/Img/btn_camera.png')" onchange="upload('#fileBtn', '#img');" accept="image/*"  />
                    <img src="" id="img" />
                </div>
            </div>





    </div>
</div>

    <script>
        function SeleectImage()
        {
            $$('#fileBtn').click();
        }

        function getLeveDay() {
            myApp.request.json('MemberLeveDataQuery?userId=' + "@userId",
               null,
               function (data) {
                   //alert(data.day);
                   $$("#leveCount").text(data.leveCount);
                   $$("#backCount").text(data.backCount);
                   $$("#inCount").text(data.inCount);
                   var html1 = '';
                   $$("#type_view_1").html(html1);
                   var html2 = '';
                   for (var i = 0; i < data.type1List.length;i++)
                   {
                       var item = data.type1List[i];

                       var type = item.leaveType;
                       var StarDay = item.startDay + '~';
                       var EndDay = item.endDay;
                       html2 = html2 + '<div onclick="window.location = \'MemberLeveOrderIndex?userId=' + '@userId' + '&id=' + item.id + '\'"  style="width:100%;height:50px;display:flex;border-bottom:solid;border-color:#dddddd;border-width:1px;">'
                         + '<div style="flex:0.3;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;">' + type + '</div>'
                         + '<div style="flex:0.4; height:50px;float:left;color:#000000;font-size:13px;">'
                           + '<div style="width:100%;height:10px;display:flex;">'
                            + ' </div>'
                            + ' <div style="width:100%;height:13px;display:flex;">'
                             + StarDay
                            + ' </div>'
                            + ' <div style="width:100%;height:13px;display:flex;">'
                            + EndDay
                             + '</div>'
                         + '</div>'
                        + ' <div style="flex:0.1;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;"></div>'
                        + ' <div style="flex:0.2;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;">'
                         + '    签核中'
                         + '</div>'
                         + '<div style="width:25px;height:50px;float:left;color:#000000;font-size:14px;">'
                          + '   <div style="width:100%;height:18px;display:flex;">'
                          + '   </div>'
                           + '  <div style="width:15px; height:15px;">'
                            + '     <img src="https://iretailerapp.flnet.com/Content/Img/img_next.png" style="width:15px; height:15px; " />'
                           + '  </div>'
                        + ' </div>'
                    + ' </div>';
                   }

                   $$("#type_view_2").html(html2);

                   var html3 = '';
                   for (var i = 0; i < data.type2List.length; i++) {
                       var item = data.type2List[i];
                       var type = item.leaveType;
                       var StarDay = item.startDay + '~';
                       var EndDay = item.endDay;
                       html3 = html3 + '<div onclick="window.location = \'MemberLeveOrderIndex?userId=' + '@userId' + '&id=' + item.id + '\'"  style="width:100%;height:50px;display:flex;border-bottom:solid;border-color:#dddddd;border-width:1px;">'
                         + '<div style="flex:0.3;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;">' + type + '</div>'
                         + '<div style="flex:0.4; height:50px;float:left;color:#000000;font-size:13px;">'
                           + '<div style="width:100%;height:10px;display:flex;">'
                            + ' </div>'
                            + ' <div style="width:100%;height:13px;display:flex;">'
                             + StarDay
                            + ' </div>'
                            + ' <div style="width:100%;height:13px;display:flex;">'
                            + EndDay
                             + '</div>'
                         + '</div>'
                        + ' <div style="flex:0.1;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;"></div>';
                       if (item.state == 3) {
                           html3 = html3 + '<div style="flex:0.2;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;color:#dc4e00;">'
                          + '已退回 </div>';

                       }
                       else {
                           html3 = html3 + ' <div style="flex:0.2;height:50px;float:left;color:#000000;font-size:14px;line-height:50px;text-align:center;color:#24acca;">'
                            + ' 已通过</div>';
                       }


                       html3 = html3 +  '<div style="width:25px;height:50px;float:left;color:#000000;font-size:14px;">'
                          + '   <div style="width:100%;height:18px;display:flex;">'
                          + '   </div>'
                           + '  <div style="width:15px; height:15px;">'
                            + '     <img src="https://iretailerapp.flnet.com/Content/Img/img_next.png" style="width:15px; height:15px; " />'
                           + '  </div>'
                        + ' </div>'
                    + ' </div>';
                   }
                   $$("#type_view_3").html(html3);

               });
        }
        var myApp = new Framework7({
            // App root element
            root: '#app',
            // App Name
            name: 'My App',
            // App id
            id: 'com.myapp.test',
            // Enable swipe panel
            panel: {
                swipe: 'left',
            },
            // Add default routes
            routes: [
              {
                  path: '/about/',
                  url: 'about.html',
              },
            ],
            // ... other parameters
        });
        var $$ = Framework7.$;
        var myPhotoBrowserStandalone = myApp.photoBrowser.create({
            photos: [
                'http://lorempixel.com/1024/1024/sports/1/',
                'http://lorempixel.com/1024/1024/sports/2/',
                'http://lorempixel.com/1024/1024/sports/3/',
            ]
        });
        function ClickType(type) {

            //myPhotoBrowserStandalone.open();
            if (type == 1) {
                $$('#type_view_3').hide();
                $$('#type_view_2').hide();
                $$('#type_view_1').show();
                if ($$('#btn_typ1').hasClass("tabSelect") == true) {
                    $$('#btn_typ1').removeClass("tabSelect");
                }
                if ($$('#btn_typ1').hasClass("tabNoSelect") == true) {
                    $$('#btn_typ1').removeClass("tabNoSelect");
                }
                if ($$('#btn_typ2').hasClass("tabSelect") == true) {
                    $$('#btn_typ2').removeClass("tabSelect");
                }
                if ($$('#btn_typ2').hasClass("tabNoSelect") == true) {
                    $$('#btn_typ2').removeClass("tabNoSelect");
                }
                if ($$('#btn_typ3').hasClass("tabSelect") == true) {
                    $$('#btn_typ3').removeClass("tabSelect");
                }
                if ($$('#btn_typ3').hasClass("tabNoSelect") == true) {
                    $$('#btn_typ3').removeClass("tabNoSelect");
                }
                $$('#btn_typ1').addClass("tabSelect");
                $$('#btn_typ2').addClass("tabNoSelect");
                $$('#btn_typ3').addClass("tabNoSelect");


            }
            else if (type == 2) {
               // $$('#table_clock').hide();
                //$$('#table_clockDetail').show();
                $$('#type_view_3').hide();
                $$('#type_view_1').hide();
                $$('#type_view_2').show();
                if ($$('#btn_typ1').hasClass("tabSelect") == true) {
                    $$('#btn_typ1').removeClass("tabSelect");
                }
                if ($$('#btn_typ1').hasClass("tabNoSelect") == true) {
                    $$('#btn_typ1').removeClass("tabNoSelect");
                }
                if ($$('#btn_typ2').hasClass("tabSelect") == true) {
                    $$('#btn_typ2').removeClass("tabSelect");
                }
                if ($$('#btn_typ2').hasClass("tabNoSelect") == true) {
                    $$('#btn_typ2').removeClass("tabNoSelect");
                }
                if ($$('#btn_typ3').hasClass("tabSelect") == true) {
                    $$('#btn_typ3').removeClass("tabSelect");
                }
                if ($$('#btn_typ3').hasClass("tabNoSelect") == true) {
                    $$('#btn_typ3').removeClass("tabNoSelect");
                }
                $$('#btn_typ2').addClass("tabSelect");
                $$('#btn_typ1').addClass("tabNoSelect");
                $$('#btn_typ3').addClass("tabNoSelect");


            }
            else if (type == 3) {
                // $$('#table_clock').hide();
                //$$('#table_clockDetail').show();
                $$('#type_view_2').hide();
                $$('#type_view_1').hide();
                $$('#type_view_3').show();
                if ($$('#btn_typ1').hasClass("tabSelect") == true) {
                    $$('#btn_typ1').removeClass("tabSelect");
                }
                if ($$('#btn_typ1').hasClass("tabNoSelect") == true) {
                    $$('#btn_typ1').removeClass("tabNoSelect");
                }
                if ($$('#btn_typ2').hasClass("tabSelect") == true) {
                    $$('#btn_typ2').removeClass("tabSelect");
                }
                if ($$('#btn_typ2').hasClass("tabNoSelect") == true) {
                    $$('#btn_typ2').removeClass("tabNoSelect");
                }
                if ($$('#btn_typ3').hasClass("tabSelect") == true) {
                    $$('#btn_typ3').removeClass("tabSelect");
                }
                if ($$('#btn_typ3').hasClass("tabNoSelect") == true) {
                    $$('#btn_typ3').removeClass("tabNoSelect");
                }
                $$('#btn_typ2').addClass("tabNoSelect");
                $$('#btn_typ1').addClass("tabNoSelect");
                $$('#btn_typ3').addClass("tabSelect");


            }


        }
        ClickType(2);
        getLeveDay();
    </script>


    <!-- Path to your app js-->



</body>
</html>
