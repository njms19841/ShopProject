
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- Color theme for statusbar -->
    <meta name="theme-color" content="#2196f3">



    <link href="https://iretailerapp.flnet.com/Content/framework7.css" rel="stylesheet">

    <title>仪表盘</title>

    <script type="text/javascript" src="https://iretailerapp.flnet.com/Scripts/framework7.min.js"></script>
    <script src="https://cdn.bootcss.com/echarts/4.0.4/echarts.min.js"></script>
    <style>
        .buttonNoSelect {
            background-color: white;
            color: rgb(36,172,202);
            font-size: 10px;
            height: 32px;
            border: 1px solid rgb(36,172,202); /* Green */
        }

        .buttonSelect {
            background-color: rgb(36,172,202);
            color: white;
            font-size: 10px;
            height: 32px;
            border: 1px solid rgb(36,172,202); /* Green */
        }
    </style>
</head>
<body>

    @{
        string userId = (string)ViewData["userId"];
        string shopCode = (string)ViewData["shopCode"];
        
        //List<Market.APIService.Controllers.CusModel> Vdata = (List < Market.APIService.Controllers.CusModel>) ViewData["vModel"];
    }
    <div id="app" style="background-color:rgb(247,247,247);">
        <div class="view view-main">

            <div id="Dview" style="padding-top:6pt;padding-left:6px;padding-right:6px;" class="page-content">

                <div style="border-radius: 5px; width: 100%; height: 65px; text-align: center; padding-top: 10px; background-color: white;">
                   
                    <div style="width: 100%; height: 60px; ">
                        <div style="width: 25%; height: 60px;float:left">
                            <div id="lab_data1" style="width: 100%; height: 35px;font-size:20px;color:rgb(51, 51, 51);  ">
                                400
                            </div>
                            <div id="lab_tile_data1" style="border-image: none; width: 100%; height: 17px; color: rgb(186, 186, 186); line-height: 15px; font-size: 15px; border-right-width: 1px; border-right-style: solid;">
                                本店人数
                            </div>
                        </div>
                        <div style="width: 25%; height: 60px;float:left; ">
                            <div id="lab_data2" style="width: 100%; height: 35px;font-size:20px;color:rgb(51, 51, 51);  ">
                                400
                            </div>
                            <div id="lab_tile_data1" style="border-image: none; width: 100%; height: 17px; color: rgb(186, 186, 186); line-height: 15px; font-size: 15px; border-right-width: 1px; border-right-style: solid;">
                                平均人效
                            </div>
                        </div>
                        <div style="width: 25%; height: 60px;float:left; ">
                            <div id="lab_data3" style="width: 100%; height: 35px;font-size:20px;color:rgb(51, 51, 51);  ">
                                400
                            </div>
                            <div id="lab_tile_data1" style="border-image: none; width: 100%; height: 17px; color: rgb(186, 186, 186); line-height: 15px; font-size: 15px; border-right-width: 1px; border-right-style: solid;">
                                本店面积
                            </div>
                        </div>
                        <div style="width: 25%; height: 60px;float:left; ">
                            <div id="lab_data4" style="width: 100%; height: 35px;font-size:20px;color:rgb(51, 51, 51);  ">
                                400
                            </div>
                            <div id="lab_tile_data1" style="border-image: none; width: 100%; height: 17px; color: rgb(186, 186, 186); line-height: 15px; font-size: 15px; ">
                                平均坪效
                            </div>
                        </div>
                    </div>
                </div>
                <div style="width: 100%; height: 10pt; opacity:0.4; text-align: center;background:url('/Content/Img/imb_shadow.png');background-size:100% 10pt;background-repeat:no-repeat;">
                </div>
                <div style="width:100%;height:7px;"></div>
                <div style="border-radius: 5px; width: 100%; height: 470px; text-align: center;padding-top:2px; background-color: white;">
                    <div style="width: 100%; height: 32px;color:rgb(36,172,202);  ">
                        <p class="segmented" style="width: auto; margin:10px 5px 5px;">
                            <button id="dateSelect_btn_0" onclick="ChangeSelectBtn(0);" class="buttonSelect" >今日</button>
                            <button id="dateSelect_btn_1" onclick="ChangeSelectBtn(1);" class="buttonNoSelect" style="border-left:0px;">昨天</button>
                            <button id="dateSelect_btn_2" onclick="ChangeSelectBtn(2);" class="buttonNoSelect" style="border-left:0px;">本周</button>
                            <button id="dateSelect_btn_3" onclick="ChangeSelectBtn(3);" class="buttonNoSelect" style="border-left:0px;">本月</button>
                            <button id="dateSelect_btn_4" onclick="ChangeSelectBtn(4);" class="buttonNoSelect" style="border-left:0px;">本季</button>
                            <button id="dateSelect_btn_5" onclick="ChangeSelectBtn(5);" class="buttonNoSelect" style="border-left:0px;">7天</button>
                            <button id="dateSelect_btn_6" onclick="ChangeSelectBtn(6);" class="buttonNoSelect" style="border-left:0px;">30天</button>
                            <button id="dateSelect_btn_7" onclick="ChangeSelectBtn(7);" class="buttonNoSelect" style="border-left:0px;">90天</button>
                        </p>
                    </div>
                    <div style="width: 100%; height:5px;"></div>
                    <div  style="width:7.5%;height:400px;float:left;"></div>
                        <div id="char1" style="width:85%;height:400px;float:left;">
                            <div style="width: 30%; height: 400px;float:left;">
                                <div style="width: 100%; height:93px;position:relative;box-shadow:1px 1px 15px rgba(0,0,0,.1);border-radius:4px;background:#fff; ">


                                    <div id="lab_data5" style="width: 100%; height: 37px; position:absolute; top:25px;font-size:20px;color:rgb(51, 51, 51);  ">

                                        400

                                    </div>
                                    <div id="lab_tile_data1" style="width: 100%; height: 37px;position:absolute; top:50px;color: rgb(186, 186, 186); font-size: 15px;">

                                        客流量

                                    </div>

                                </div>
                                <div style="width: 100%; height:7px;">
                                  </div>
                                    <div style="width: 100%; height:93px;position:relative;box-shadow:1px 1px 15px rgba(0,0,0,.1);border-radius:4px;background:#fff; ">
                                        <div id="lab_data6" style="width: 100%; height: 37px; position:absolute; top:25px;font-size:20px;color:rgb(51, 51, 51);  ">

                                            400

                                        </div>
                                        <div id="lab_tile_data1" style="width: 100%; height: 37px;position:absolute; top:50px;color: rgb(186, 186, 186); font-size: 15px;">

                                            订单数

                                        </div>
                                    </div>
                                <div style="width: 100%; height:7px;">
                                </div>
                                    <div style="width: 100%; height:93px;position:relative;box-shadow:1px 1px 15px rgba(0,0,0,.1);border-radius:4px;background:#fff;">
                                        <div id="lab_data7" style="width: 100%; height: 37px; position:absolute; top:25px;font-size:20px;color:rgb(51, 51, 51);  ">

                                            400

                                        </div>
                                        <div id="lab_tile_data1" style="width: 100%; height: 37px;position:absolute; top:50px;color: rgb(186, 186, 186); font-size: 15px;">

                                            商品数

                                        </div>
                                    </div>
                                <div style="width: 100%; height:7px;">
                                </div>
                                    <div style="width: 100%; height:93px;position:relative;box-shadow:1px 1px 15px rgba(0,0,0,.1);border-radius:4px;background:#fff;">
                                        <div id="lab_data8" style="width: 100%; height: 37px; position:absolute; top:25px;font-size:20px;color:rgb(51, 51, 51);  ">

                                            400

                                        </div>
                                        <div id="lab_tile_data1" style="width: 100%; height: 37px;position:absolute; top:50px;color: rgb(186, 186, 186); font-size: 15px;">

                                            交易额

                                        </div>
                                    </div>
                                </div>
                            <div style="width: 35%; height: 400px;float:left">

                                <div style="width: 100%; height:12.5%;">

                                </div>
                                <div style="width: 100%; height:25%; ">
                                    <div style="width:10%;height: 100%; float:left;">
                                        <div style="width:100%;height: 15%;">

                                        </div>
                                        <div style="width:100%;height: 70%;border: solid; border-color:rgb(36,172,202); border-width:1px; border-left:none;">

                                        </div>
                                        <div style="width:100%;height: 15%;">

                                        </div>
                                    </div>
                                    <div style="width:10%;height:100%;float:left;">
                                        <div style="width:100%;height: 50%;border: solid; border-color:rgb(36,172,202); border-width:1px; border-left:none;border-top:none; border-right:none;">

                                        </div>
                                        <div style="width:100%;height: 50%;">

                                        </div>
                                    </div>
                                    <div style="width:80%; height:93px;position:relative;box-shadow:1px 1px 15px rgba(0,0,0,.1);border-radius:4px;background:#fff;float:left;">
                                        <div id="lab_data9" style="width: 100%; height: 37px; position:absolute; top:25px;font-size:20px;color:rgb(51, 51, 51);  ">

                                            70%

                                        </div>
                                        <div id="lab_tile_data1" style="width: 100%; height: 37px;position:absolute; top:50px;color: rgb(186, 186, 186); font-size: 15px;">

                                            成交率

                                        </div>
                                    </div>

                                </div>
                                <div style="width: 100%; height:25%;">
                                    <div style="width:10%;height: 100%; float:left;">
                                        <div style="width:100%;height: 15%;">

                                        </div>
                                        <div style="width:100%;height: 70%;border: solid; border-color:rgb(36,172,202); border-width:1px; border-left:none;">

                                        </div>
                                        <div style="width:100%;height: 15%;">

                                        </div>
                                    </div>
                                    <div style="width:10%;height:100%;float:left;">
                                        <div style="width:100%;height: 50%;border: solid; border-color:rgb(36,172,202); border-width:1px; border-left:none;border-top:none; border-right:none;">

                                        </div>
                                        <div style="width:100%;height: 50%;">

                                        </div>
                                    </div>
                                    <div style="width:80%; height:93px;position:relative;box-shadow:1px 1px 15px rgba(0,0,0,.1);border-radius:4px;background:#fff;float:left;">
                                        <div id="lab_data10" style="width: 100%; height: 37px; position:absolute; top:25px;font-size:20px;color:rgb(51, 51, 51);  ">

                                            30%

                                        </div>
                                        <div id="lab_tile_data1" style="width: 100%; height: 37px;position:absolute; top:50px;color: rgb(186, 186, 186); font-size: 15px;">

                                            连带率

                                        </div>
                                    </div>

                                </div>
                                <div style="width: 100%; height:25%; ">
                                    <div style="width:10%;height: 100%; float:left;">
                                        <div style="width:100%;height: 15%;">

                                        </div>
                                        <div style="width:100%;height: 70%;border: solid; border-color:rgb(36,172,202); border-width:1px; border-left:none;">

                                        </div>
                                        <div style="width:100%;height: 15%;">

                                        </div>
                                    </div>
                                    <div style="width:10%;height:100%;float:left;">
                                        <div style="width:100%;height: 50%;border: solid; border-color:rgb(36,172,202); border-width:1px; border-left:none;border-top:none; border-right:none;">

                                        </div>
                                        <div style="width:100%;height: 50%;">

                                        </div>
                                    </div>
                                    <div style="width:80%; height:93px;position:relative;box-shadow:1px 1px 15px rgba(0,0,0,.1);border-radius:4px;background:#fff;float:left;">
                                        <div id="lab_data11" style="width: 100%; height: 37px; position:absolute; top:25px;font-size:20px;color:rgb(51, 51, 51);  ">

                                            400

                                        </div>
                                        <div id="lab_tile_data1" style="width: 100%; height: 37px;position:absolute; top:50px;color: rgb(186, 186, 186); font-size: 15px;">

                                            件单价

                                        </div>
                                    </div>

                                </div>


                                <div style="width: 100%; height:12.5%;">

                                </div>
                            </div>
                            <div style="width: 35%; height:400px;float:left">
                                <div style="width: 100%; height:25%;">

                                </div>
                                <div style="width: 100%; height:75%;">
                                    <div style="width:10%;height: 100%; float:left;">
                                        <div style="width:100%;height: 15%;">

                                        </div>
                                        <div style="width:100%;height: 70%;border: solid; border-color:rgb(36,172,202); border-width:1px; border-left:none;">

                                        </div>
                                        <div style="width:100%;height: 15%;">

                                        </div>
                                    </div>
                                    <div style="width:10%;height:100%;float:left;">
                                        <div style="width:100%;height: 50%;border: solid; border-color:rgb(36,172,202); border-width:1px; border-left:none;border-top:none; border-right:none;">

                                        </div>
                                        <div style="width:100%;height: 50%;">

                                        </div>
                                    </div>
                                    <div style="width:80%; height:100%;float:left;">
                                        <div style="width:100%; height:35%;">

                                        </div> 
                                        <div style="width:100%; height:93px;position:relative;box-shadow:1px 1px 15px rgba(0,0,0,.1);border-radius:4px;background:#fff;">
                                            <div id="lab_data12" style="width: 100%; height: 37px; position:absolute; top:25px; font-size:20px;color:rgb(51, 51, 51);  ">

                                                4,56790

                                            </div>
                                            <div id="lab_tile_data1" style="width: 100%; height: 37px;position:absolute; top:50px;color: rgb(186, 186, 186); font-size: 15px;">

                                                客单价

                                            </div>
                                        </div>
                                    </div>
                                        

                                    </div>
                            </div>
                        </div>
                     <div style="width:7.5%;height:400px;float:left;"></div>
                    </div>
                
                <br />
                




        </div>

    </div>
        </div>

    <script>


        var myApp = new Framework7({
            // App root element
            root: '#app',
            // App Name
            name: 'My App',
            // App id
            id: 'com.myapp.test',
            // Enable swipe panel
            panel: {
                swipe: 'left',
            },
            // Add default routes
            routes: [
              {
                  path: '/about/',
                  url: 'about.html',
              },
            ],
            // ... other parameters
        });
        var $$ = Framework7.$;
        var selectBtn = 0;
        function GetDate(model)
        {
            var url = 'GetShopQueryData?' + "shopCode=" + '@shopCode' + "&model=" + model;

            myApp.request.json(url,
                      null,
                        function (data) {
                            
                            $$('#lab_data1').text(data.data1.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))
                            $$('#lab_data2').text(data.data2.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))
                            $$('#lab_data3').text(data.data3.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))
                            $$('#lab_data4').text(data.data4.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))
                            $$('#lab_data5').text(data.data5.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))
                            $$('#lab_data6').text(data.data6.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))
                            $$('#lab_data7').text(data.data7.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))
                            $$('#lab_data8').text(data.data8.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))
                            $$('#lab_data9').text((data.data9 * 100).toFixed(0) + "%")
                            $$('#lab_data10').text((data.data10 * 100).toFixed(0) + "%")
                            $$('#lab_data11').text(data.data11.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))
                            $$('#lab_data12').text(data.data12.toFixed(0).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,'))


                        });
        }
        function ChangeSelectBtn(index) {


            if (selectBtn != index) {
                selectBtn = index;

                if ($$('#dateSelect_btn_' + index).hasClass("buttonNoSelect") == true) {
                    $$('#dateSelect_btn_' + index).removeClass("buttonNoSelect");
                }
                $$('#dateSelect_btn_' + index).addClass("buttonSelect");

                for (var i = 0; i <= 7; i++) {

                    if (i != index) {
                        if ($$('#dateSelect_btn_' + i).hasClass("buttonNoSelect") == true) {
                            $$('#dateSelect_btn_' + i).removeClass("buttonNoSelect");
                        }
                        if ($$('#dateSelect_btn_' + i).hasClass("buttonSelect") == true) {
                            $$('#dateSelect_btn_' + i).removeClass("buttonSelect");
                        }
                        $$('#dateSelect_btn_' + i).addClass("buttonNoSelect");

                       
                    }

                }
                GetDate(selectBtn);
                
            }

        }
        GetDate(0);
        
    </script>


    <!-- Path to your app js-->



</body>
</html>
